---
layout: commands
page_title: "Commands: Run"
sidebar_title: "run"
description: "Run a new pack or update an existing pack"
---

# Nomad-Pack Run

Command: `nomad-pack run`

Run a new pack or update an existing pack

@include "nomad-pack-commands/run_desc.mdx"

## Usage

Usage: `nomad-pack run <pack-name> [options]`

Install the specified Nomad Pack to a configured Nomad cluster.

### Examples

#### Run the `example` pack with the default deployment name

```shell-session
nomad-pack run example
```

#### Run the `example` pack with a specified deployment name "dev"

```shell-session
nomad-pack run example --name=dev
```

#### Run the `example` pack using override variables from a variable file

```shell-session
nomad-pack run example --var-file="./overrides.hcl"
```

#### Run the `example` pack with variable overrides from CLI flags

```shell-session
nomad-pack run example \
  --var="example.redis_image_version=latest" \
  --var="example.redis_resources={"cpu": "1000", "memory": "512"}"
```

#### Run a pack under development from the filesystem

This supports current working directory or relative path

```shell-session
nomad-pack run .
```

### Flags

@include "nomad-pack-commands/flags-operations.mdx"

@include "nomad-pack-commands/flags-nomad.mdx"

#### Run Options

@include "nomad-pack-commands/flags-reg-ref.mdx"

- `-check-index=<uint>` - If set, the job is only registered or updated if the
  passed job modify index matches the server side version.

  If a `check-index` value of zero is passed, the job is only registered if it
  does not yet exist.

  If a non-zero value is passed, it ensures that the job is being updated from a
  known state. The use of this flag is most common in conjunction with the
  `plan` command.

- `-consul-token=<string>` - If set, the passed Consul token is stored in the
  job before sending to the Nomad servers. This allows passing the Consul
  token without storing it in the job file. This overrides the token found in
  the `CONSUL_HTTP_TOKEN` environment variable and any tokens found in the
  job.

- `-consul-namespace=<string>` - If set, any services in the job will be
  registered into the specified Consul namespace. Any template block reading
  from Consul KV will be scoped to the specified Consul namespace. If Consul
  ACLs are enabled and the `allow_unauthenticated` Nomad server Consul
  configuration is not enabled, then a Consul token must be supplied with
  appropriate service and KV Consul ACL policy permissions.

- `-vault-token=<string>` - If set, the passed Vault token is stored in the job
  before sending to the Nomad servers. This allows passing the Vault token
  without storing it in the job file. This overrides the token found in the
  `VAULT_TOKEN` environment variable and any tokens found in the job.

- `-vault-namespace=<string>` - If set, the passed Vault namespace is stored in
  the job before sending to the Nomad servers.

- `-policy-override` - Sets the flag to force override any soft mandatory
  Sentinel policies.

- `-preserve-counts` - If set, the existing task group counts will be preserved
  when updating a job.

- `-hcl1` - If set, the HCL V1 parser will be used to parse the job file.

@include "nomad-pack-commands/run_more.mdx"
